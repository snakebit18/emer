(()=>{"use strict";var e={42259:(e,t,o)=>{o.r(t);var n=o(71555),i=o(70885),s=o(15861),a=o(4942),u=o(45690),l=o(98621),c=o(88409),d=o(30264),p=o(52058),f=o(34845),b=o(96966),g=o(54577);const y={aws_project_region:"ap-south-1",aws_cognito_identity_pool_id:"ap-south-1:a611b3a8-48d6-4f40-8f92-d37188428d50",aws_cognito_region:"ap-south-1",aws_user_pools_id:"ap-south-1_i3FY9Ws4g",aws_user_pools_web_client_id:"3qq8s0v5bi6nsde9iooas96njc",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["NAME","MIDDLE_NAME","FAMILY_NAME","PREFERRED_USERNAME","EMAIL","PHONE_NUMBER"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:["REQUIRES_LOWERCASE","REQUIRES_NUMBERS","REQUIRES_SYMBOLS","REQUIRES_UPPERCASE"]},aws_cognito_verification_mechanisms:["EMAIL"]};var _=o(57099),m=o(68334),h=o(20009),O=o(49136),v=o(90124),w=o.n(v),S=o(57937),E=o(4067),P=o(20784);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}f.Amplify.configure(A(A({},y),{},{Analytics:{disabled:!0}})),f.Amplify.addPluggable(new m.AWSIoTProvider({aws_pubsub_region:"ap-south-1",aws_pubsub_endpoint:"wss://a3f9o2zs6yi85z-ats.iot.ap-south-1.amazonaws.com/mqtt"}));var M=function(){var e=(0,s.default)((function*(){try{var e=yield PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION,{title:"Geolocation Permission",message:"Can we access your location?",buttonNeutral:"Ask Me Later",buttonNegative:"Cancel",buttonPositive:"OK"});return console.log("granted",e),"granted"===e?(console.log("You can use Geolocation"),!0):(console.log("You cannot use Geolocation"),!1)}catch(t){return!1}}));return function(){return e.apply(this,arguments)}}();b.PubSub.subscribe("esp8266/pub",{qos:0}).subscribe({next:function(e){return console.log("Message received")},error:function(e){return console.error(e)},complete:function(){return console.log("Done")}});var N=l.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});const C=(0,_.withAuthenticator)((function(){M();var e=(0,h.useState)(null),t=(0,i.default)(e,2),o=t[0],n=t[1],s=(0,h.useState)(null),a=(0,i.default)(s,2),l=a[0],f=a[1],y=(0,h.useState)(null),_=(0,i.default)(y,2),m=_[0],v=_[1],j=(0,h.useState)(null),A=(0,i.default)(j,2),C=A[0],R=A[1];return E.Hub.listen("pubsub",(function(e){var t=e.payload;if(t.event===S.CONNECTION_STATE_CHANGE){r;var o=t.data.connectionState;console.log(o)}})),(0,h.useEffect)((function(){var e=null,t=null,r=null,o=1,i=1;setInterval((function(){O.default.getCurrentPosition((function(s){e=s.coords.latitude,t=s.coords.longitude,r=s.coords.altitude;var a=w()({latitude:e,longitude:t,altitude:r},{latitude:17.66997,longitude:75.923397,altitude:0},{unit:"meter"});if(n(a),a<10&&R("Reached Destination"),o){var u=w()({latitude:e,longitude:t,altitude:r},{latitude:17.6692,longitude:75.9222,altitude:0},{unit:"meter"});f(u),console.log("distance1",u),u<100?u<20?(b.PubSub.publish("esp8266/sub",{message:"0"}),o=!1):b.PubSub.publish("esp8266/sub",{message:"1"}):b.PubSub.publish("esp8266/sub",{message:"0"})}if(i){var l=w()({latitude:e,longitude:t,altitude:r},{latitude:17.669741,longitude:75.923432,altitude:0},{unit:"meter"});v(l),console.log("distance2",l),l<100?l<20?(b.PubSub.publish("esp8266_3/sub",{message:"0"}),i=!1):b.PubSub.publish("esp8266_3/sub",{message:"1"}):b.PubSub.publish("esp8266_3/sub",{message:"0"})}console.log("distance",a)}),(function(e){return console.log(e)}),{enableHighAccuracy:!0,timeout:2e4,maximumAge:1e3})}),1e3)}),[]),(0,P.jsxs)(d.default,{style:N.container,children:[(0,P.jsxs)(c.default,{children:[o," meters"]}),(0,P.jsxs)(c.default,{children:[l," meters"]}),(0,P.jsxs)(c.default,{children:[m," meters"]}),(0,P.jsx)(c.default,{children:C}),(0,P.jsx)(p.default,{onPress:function(){g.Auth.signOut()},title:"out",color:"yellow"}),(0,P.jsx)(u.default,{style:"auto"})]})}),{signUpConfig:{header:"Custom Sign Up",hideAllDefaults:!0,signUpFields:[{label:"Name",key:"name",required:!0,displayOrder:1,type:"string"},{label:"Middle Name",key:"middle_name",required:!0,displayOrder:2,type:"string"},{label:"Family Name",key:"family_name",required:!0,displayOrder:3,type:"string"},{label:"Username",key:"preferred_username",required:!0,displayOrder:4,type:"string"},{label:"email",key:"email",required:!0,displayOrder:5,type:"string"},{label:"phone number",key:"phone_number",required:!0,displayOrder:6,type:"string"},{label:"password",key:"password",required:!0,displayOrder:7,type:"password"}]}});(0,n.default)(C)}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=e,(()=>{var e=[];o.O=(t,r,n,i)=>{if(!r){var s=1/0;for(c=0;c<e.length;c++){for(var[r,n,i]=e[c],a=!0,u=0;u<r.length;u++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](r[u])))?r.splice(u--,1):(a=!1,i<s&&(s=i));if(a){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,n,i]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var i=Object.create(null);o.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,o.d(i,s),i}})(),o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,i,[s,a,u]=r,l=0;if(s.some((t=>0!==e[t]))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(u)var c=u(o)}for(t&&t(r);l<s.length;l++)i=s[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[714],(()=>o(42259)));n=o.O(n)})();
//# sourceMappingURL=main.fcf3ce8f.js.map